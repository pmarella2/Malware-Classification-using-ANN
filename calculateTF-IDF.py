import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer

datasetFile = open(
    "~/complete_API_categorized_dataset.csv",
    "r",
)
datasetContent = datasetFile.read()
contentList = datasetContent.split("\n")
datasetFile.close()

tfidfVector = TfidfVectorizer()
tfIDF = tfidfVector.fit_transform(contentList)
terms = tfidfVector.get_feature_names()
print(terms)

df_tfidfvect = pd.DataFrame(data=tfIDF.toarray(), columns=terms)
df_tfidfvect.to_csv(
    r"~/complete_API_cat_freq_tfidf.csv",
    index=False,
    header=True,
)
