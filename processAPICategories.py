import csv
import pandas as pd
from pandas.core import api

dataFile = (
    "~/API_Calls_Categorized.csv"
)
df = pd.read_csv(
    dataFile, sep=",", header=None, index_col=False, names=["APICall", "Category"]
)
apiDict = df.set_index("APICall").T.to_dict("records")

dataFile2 = "~/complete_API_analysis_dataset.txt"
df2 = pd.read_csv(dataFile2, sep="\n", header=None, index_col=False)
dfAPI = df2[0].str.split(" ")

with open(
    "~/complete_API_categorized_dataset.csv",
    "w",
) as f:
    writer = csv.writer(f)

    for x in range(len(dfAPI.index)):
        tempList = []
        for y in range(len(dfAPI[x])):
            tempList.append(apiDict[0][dfAPI[x][y]])
        writer.writerow(tempList)